(()=>{var e,l={128:(e,l,t)=>{"use strict";const o=window.wp.blocks,a=window.wp.element;var r=t(184),n=t.n(r);const c=window.lodash,i=window.wp.i18n,s=window.wp.blockEditor,d=window.wp.components,m=window.wp.data;let p=e=>crypto.getRandomValues(new Uint8Array(e)),u=(e,l=21)=>((e,l,t)=>{let o=(2<<Math.log(e.length-1)/Math.LN2)-1,a=-~(1.6*o*l/e.length);return(r=l)=>{let n="";for(;;){let l=t(a),c=a;for(;c--;)if(n+=e[l[c]&o]||"",n.length===r)return n}}})(e,l,p);const b=(0,d.withNotices)((function(e){const{attributes:l,setAttributes:t,isSelected:o,clientId:r,noticeOperations:p}=e,{id:b,label:g,width:h,backdropColor:w,enableCloseButton:k,triggerType:v,triggerDelay:_,enableTriggerDelay:E,triggerSelector:f}=l,C=(0,a.useRef)(null),[y,B]=(0,a.useState)(!1),S=(0,m.useSelect)((e=>{const{hasSelectedInnerBlock:l}=e(s.store);return l(r,!0)}),[r]);(0,m.useSelect)((e=>e(s.store).getBlocks().filter((e=>"cloudcatch/simple-modal-block"===e.name)))),(0,a.useEffect)((()=>{b||t({id:u("0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz",11)()})}),[]),(0,a.useEffect)((()=>{B(!(!o&&!S))}),[o,S]);const x=()=>{B(!1)},M=((0,a.useMemo)((()=>(0,c.debounce)(x,150)),[]),(0,d.__experimentalUseCustomUnits)({availableUnits:(0,s.useSetting)("spacing.units")||["%","px","em","rem","vw"]})),P=Number.isFinite(h)?h+"%":h,T=(0,s.useBlockProps)({style:P?{maxWidth:P}:void 0}),O={ref:C,role:"dialog","aria-modal":!0,className:n()("wp-block-cloudcatch-simple-modal-block__wrapper",{"is-open":y}),style:w?{backgroundColor:w}:void 0,"data-trigger-delay":E?_:void 0,"data-trigger-selector":f||void 0,"data-modal-id":b};return(0,a.createElement)(a.Fragment,null,(0,a.createElement)(s.InspectorControls,null,(0,a.createElement)(d.PanelBody,null,(0,a.createElement)(d.TextControl,{label:(0,i.__)("Modal Label","simple-modal-block"),value:g,placeholder:(0,i.__)("New Modal","simple-modal-block"),onChange:e=>t({label:e}),help:(0,i.__)("Used to differentiate modals from one another","simple-modal-block")}),(0,a.createElement)(d.__experimentalUnitControl,{label:(0,i.__)("Width"),labelPosition:"edge",__unstableInputWidth:"80px",value:h||"",onChange:e=>{e=0>parseFloat(e)?"0":e,t({width:e})},units:M}),(0,a.createElement)(d.ToggleControl,{label:(0,i.__)("Show Close Button","simple-modal-block"),checked:k||!1,onChange:()=>{t({enableCloseButton:!k})}})),(0,a.createElement)(d.PanelBody,{title:(0,i.__)("Triggers","simple-modal-block")},(0,a.createElement)(d.ToggleControl,{label:(0,i.__)("Show Modal on Page Load","simple-modal-block"),checked:E||!1,onChange:()=>{t({enableTriggerDelay:!E})}}),E&&(0,a.createElement)(d.__experimentalUnitControl,{label:(0,i.__)("Delay","simple-modal-block"),labelPosition:"edge",__unstableInputWidth:"80px",value:_,placeholder:"0",onChange:e=>t({triggerDelay:e}),unit:"ms",units:{ms:{value:"ms",label:"ms",default:"",a11yLabel:(0,i.__)("Milliseconds (ms)"),step:1}}}),(0,a.createElement)(d.TextControl,{label:(0,i.__)("Selector","simple-modal-block"),value:f,onChange:e=>t({triggerSelector:e}),style:{fontFamily:"monospace"}}))),(0,a.createElement)("div",O,(0,a.createElement)("div",T,(0,a.createElement)("div",(0,s.useInnerBlocksProps)({className:"wp-block-cloudcatch-simple-modal-block__content"})),k&&(0,a.createElement)("button",{className:"wp-block-cloudcatch-simple-modal-block__close",onClick:x},(0,a.createElement)(d.SVG,{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"14",viewBox:"0 0 24 24"},(0,a.createElement)(d.Path,{d:"M24 1.2 22.8 0 12 10.8 1.2 0 0 1.2 10.8 12 0 22.8 1.2 24 12 13.2 22.8 24l1.2-1.2L13.2 12 24 1.2z"}))))))})),g=JSON.parse('{"u2":"cloudcatch/simple-modal-block"}'),h=()=>(0,a.createElement)(d.Icon,{icon:()=>(0,a.createElement)(d.SVG,{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},(0,a.createElement)(d.Path,{d:"M6.4 12.1h11.2v1.5H6.4zM6.5 15.5h11.2V17H6.5z"}),(0,a.createElement)(d.Path,{d:"M23.2 4.5c0-2.1-1.7-3.7-3.7-3.7-1 0-2 .4-2.7 1.2-.3.3-.5.7-.7 1H5c-1.1 0-1.9.9-1.9 2v14c0 1.1.8 2 1.9 2h14.1c1.1 0 1.9-.9 1.9-1.9V7.9c1.3-.5 2.2-1.8 2.2-3.4zM19.5 19c0 .2-.2.4-.4.4H5c-.2 0-.4-.2-.4-.4V5c0-.2.2-.4.4-.4h10.8c0 2.1 1.7 3.7 3.7 3.7V19zm0-12.2c-1.2 0-2.2-1-2.2-2.2 0-.6.2-1.1.6-1.5.4-.5 1-.7 1.6-.7 1.2 0 2.2 1 2.2 2.2s-1 2.2-2.2 2.2z"}))}),w=window.wp.plugins,k=window.wp.editPost,v=window.wp.primitives,_=(0,a.createElement)(v.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,a.createElement)(v.Path,{d:"m19 7-3-3-8.5 8.5-1 4 4-1L19 7Zm-7 11.5H5V20h7v-1.5Z"})),E=(0,a.createElement)(v.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,a.createElement)(v.Path,{d:"M20 5h-5.7c0-1.3-1-2.3-2.3-2.3S9.7 3.7 9.7 5H4v2h1.5v.3l1.7 11.1c.1 1 1 1.7 2 1.7h5.7c1 0 1.8-.7 2-1.7l1.7-11.1V7H20V5zm-3.2 2l-1.7 11.1c0 .1-.1.2-.3.2H9.1c-.1 0-.3-.1-.3-.2L7.2 7h9.6z"}));(0,w.registerPlugin)("simple-modal-block",{render:function(){const e=(0,m.useSelect)((e=>e(s.store).getBlocks().filter((e=>"cloudcatch/simple-modal-block"===e.name)))),{selectBlock:l,removeBlock:t}=(0,m.useDispatch)(s.store);return(0,a.createElement)(k.PluginSidebar,{name:"plugin-sidebar-test",title:(0,i.__)("Modals","simple-modal-block"),icon:h},(0,a.createElement)("div",{className:"plugin-sidebar-content"},e.length>0&&e.map(((e,o)=>(0,a.createElement)("div",{key:o},(0,a.createElement)(d.Card,{className:"simple-modal-block__card"},(0,a.createElement)(d.CardBody,null,(0,a.createElement)(d.__experimentalHeading,{size:4},e.attributes.label||(0,i.__)("New Modal","simple-modal-block")),(0,a.createElement)("div",null,(0,a.createElement)(d.Button,{icon:_,label:(0,i.__)("Edit Modal","simple-modal-block"),onClick:()=>l(e.clientId)}),(0,a.createElement)(d.Button,{icon:E,label:(0,i.__)("Remove Modal","simple-modal-block"),onClick:()=>t(e.clientId)}))))))),e.length<1&&(0,a.createElement)(d.Card,{isBorderless:!0},(0,a.createElement)(d.CardBody,null,(0,a.createElement)("p",null,(0,i.__)("There are no modals on this page","simple-modal-block"))))))}});const f=window.wp.hooks,C=(0,window.wp.compose.createHigherOrderComponent)((e=>l=>{const{name:t,attributes:o,setAttributes:r}=l,n=(0,m.useSelect)((e=>e(s.store).getBlocks().filter((e=>"cloudcatch/simple-modal-block"===e.name)))),c=n.filter((e=>o?.modalEnabled===e?.attributes?.id))[0],{selectBlock:p}=(0,m.useDispatch)(s.store),u=[{label:(0,i.__)("Select Modal","simple-modal-block"),value:""},...n.map((e=>({label:e?.attributes?.label||(0,i.__)("New Modal","simple-modal-block"),value:e?.attributes?.id})))];return(0,a.createElement)(a.Fragment,null,(0,a.createElement)(e,l),"cloudcatch/simple-modal-block"!==t&&(0,a.createElement)(s.InspectorAdvancedControls,null,(0,a.createElement)(d.BaseControl,null,(0,a.createElement)(d.ToggleControl,{label:(0,i.__)("Show Modal on Click","simple-modal-block"),checked:o?.modalTriggerEnabled||!1,onChange:()=>{r({modalTriggerEnabled:!o?.modalTriggerEnabled})}}),o?.modalTriggerEnabled&&(0,a.createElement)(d.SelectControl,{label:(0,i.__)("Modal","simple-modal-block"),value:o?.modalEnabled,options:u,onChange:e=>{r({modalEnabled:e})}}),null!=c&&(0,a.createElement)(d.Button,{label:(0,i.__)("Edit Modal","simple-modal-block"),variant:"secondary",onClick:()=>p(c.clientId)},(0,i.__)("Open Modal","simple-modal-block")))))}),"withInspectorControl");(0,f.addFilter)("blocks.registerBlockType","cloudcatch/SimpleModalBlockAttributes",((e,l)=>(e.attributes={...e.attributes,modalTriggerEnabled:{type:"boolean",default:!1},modalEnabled:{type:"string"}},e))),(0,f.addFilter)("editor.BlockEdit","cloudcatch/SimpleModalBlockAdvancedControls",C),(0,f.addFilter)("blocks.getSaveContent.extraProps","cloudcatch/SimpleModalBlockAttributes",((e,l,t)=>{const{modalTriggerEnabled:o,modalEnabled:a}=t;return!0===o&&null!=a?{...e,"data-trigger-modal":a}:e})),(0,o.registerBlockType)(g.u2,{edit:b,save:function(e){const{attributes:l}=e,{id:t,width:o,backdropColor:r,enableCloseButton:c,triggerType:i,triggerDelay:m,enableTriggerDelay:p,triggerSelector:u}=l,b=Number.isFinite(o)?o+"%":o,g=s.useBlockProps.save({style:b?{maxWidth:b}:void 0}),h={role:"dialog","aria-modal":!0,className:n()("wp-block-cloudcatch-simple-modal-block__wrapper"),style:r?{backgroundColor:r}:void 0,"data-trigger-delay":p?m:void 0,"data-trigger-selector":u||void 0,"data-modal-id":t};return(0,a.createElement)("div",h,(0,a.createElement)("div",g,(0,a.createElement)("div",s.useInnerBlocksProps.save({className:"wp-block-cloudcatch-simple-modal-block__content"})),c&&(0,a.createElement)("button",{className:"wp-block-cloudcatch-simple-modal-block__close"},(0,a.createElement)(d.SVG,{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"14",viewBox:"0 0 24 24"},(0,a.createElement)(d.Path,{d:"M24 1.2 22.8 0 12 10.8 1.2 0 0 1.2 10.8 12 0 22.8 1.2 24 12 13.2 22.8 24l1.2-1.2L13.2 12 24 1.2z"})))))},icon:h()})},184:(e,l)=>{var t;!function(){"use strict";var o={}.hasOwnProperty;function a(){for(var e=[],l=0;l<arguments.length;l++){var t=arguments[l];if(t){var r=typeof t;if("string"===r||"number"===r)e.push(t);else if(Array.isArray(t)){if(t.length){var n=a.apply(null,t);n&&e.push(n)}}else if("object"===r){if(t.toString!==Object.prototype.toString&&!t.toString.toString().includes("[native code]")){e.push(t.toString());continue}for(var c in t)o.call(t,c)&&t[c]&&e.push(c)}}}return e.join(" ")}e.exports?(a.default=a,e.exports=a):void 0===(t=function(){return a}.apply(l,[]))||(e.exports=t)}()}},t={};function o(e){var a=t[e];if(void 0!==a)return a.exports;var r=t[e]={exports:{}};return l[e](r,r.exports,o),r.exports}o.m=l,e=[],o.O=(l,t,a,r)=>{if(!t){var n=1/0;for(d=0;d<e.length;d++){for(var[t,a,r]=e[d],c=!0,i=0;i<t.length;i++)(!1&r||n>=r)&&Object.keys(o.O).every((e=>o.O[e](t[i])))?t.splice(i--,1):(c=!1,r<n&&(n=r));if(c){e.splice(d--,1);var s=a();void 0!==s&&(l=s)}}return l}r=r||0;for(var d=e.length;d>0&&e[d-1][2]>r;d--)e[d]=e[d-1];e[d]=[t,a,r]},o.n=e=>{var l=e&&e.__esModule?()=>e.default:()=>e;return o.d(l,{a:l}),l},o.d=(e,l)=>{for(var t in l)o.o(l,t)&&!o.o(e,t)&&Object.defineProperty(e,t,{enumerable:!0,get:l[t]})},o.o=(e,l)=>Object.prototype.hasOwnProperty.call(e,l),(()=>{var e={826:0,431:0};o.O.j=l=>0===e[l];var l=(l,t)=>{var a,r,[n,c,i]=t,s=0;if(n.some((l=>0!==e[l]))){for(a in c)o.o(c,a)&&(o.m[a]=c[a]);if(i)var d=i(o)}for(l&&l(t);s<n.length;s++)r=n[s],o.o(e,r)&&e[r]&&e[r][0](),e[r]=0;return o.O(d)},t=globalThis.webpackChunksimple_modal_block=globalThis.webpackChunksimple_modal_block||[];t.forEach(l.bind(null,0)),t.push=l.bind(null,t.push.bind(t))})();var a=o.O(void 0,[431],(()=>o(128)));a=o.O(a)})();